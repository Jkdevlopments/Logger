<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Verification</title>
</head>
<body>
    <h2>Login Verification</h2>
    <p id="responseMessage"></p>

    <script>
        // Sample user data for authentication
        const userData = {
            "user1": "password123",
            "user2": "mysecurepassword"
        };

        // Function to verify credentials
        async function verifyLogin(data) {
            const { username, password } = data;

            // Check if username exists and password matches
            if (userData[username] && userData[username] === password) {
                return { success: true, message: "Login successful!" };
            } else {
                return { success: false, message: "Invalid username or password." };
            }
        }

        // Create a simple server to listen for POST requests
        async function handleRequest(event) {
            event.preventDefault();

            const requestBody = await event.request.json();
            const response = await verifyLogin(requestBody);

            // Create and send the response
            return new Response(JSON.stringify(response), {
                headers: { "Content-Type": "application/json" },
            });
        }

        // Register a service worker to handle POST requests
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('').then(() => {
                self.addEventListener('fetch', (event) => {
                    if (event.request.method === 'POST') {
                        event.respondWith(handleRequest(event));
                    }
                });
            });
        }
    </script>
</body>
</html>